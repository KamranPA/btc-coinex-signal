name: Simple CoinEx Bot

on:
  workflow_dispatch:
    inputs:
      mode:
        description: 'Run Mode'
        required: true
        default: 'test'
        type: choice
        options:
          - test
          - debug
          - production

jobs:
  run-bot:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout code
      uses: actions/checkout@v4

    - name: Setup Python
      uses: actions/setup-python@v5
      with:
        python-version: '3.9'

    - name: Install packages
      run: pip install requests pandas numpy

    - name: Show files
      run: |
        echo "ğŸ“ Files in repository:"
        ls -la
        echo ""
        echo "ğŸ“¦ Services files:"
        ls -la services/ || echo "No services directory"

    - name: Run simple test
      run: |
        echo "ğŸ¤– Running CoinEx Bot"
        echo "ğŸ“ Mode: ${{ github.event.inputs.mode }}"
        echo "âœ… Python is working"
        python -c "
print('Testing imports...')
try:
    import requests
    print('âœ… requests imported')
except:
    print('âŒ requests failed')
try:
    import pandas
    print('âœ… pandas imported')
except:
    print('âŒ pandas failed')
try:
    import numpy
    print('âœ… numpy imported')
except:
    print('âŒ numpy failed')
        "

    - name: Complete
      run: echo "ğŸ‰ Workflow completed!"
