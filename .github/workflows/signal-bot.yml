name: CoinEx Signal Bot

on:
  schedule:
    - cron: '*/15 * * * *'  # Ÿáÿ± 15 ÿØŸÇ€åŸÇŸá ÿßÿ¨ÿ±ÿß ÿ¥ŸàÿØ
  workflow_dispatch:
    inputs:
      debug_mode:
        description: 'Enable debug mode'
        required: false
        default: 'false'
        type: choice
        options:
        - 'true'
        - 'false'
      test_mode:
        description: 'Enable test mode (no signals sent)'
        required: false
        default: 'false'
        type: choice
        options:
        - 'true'
        - 'false'

jobs:
  check-structure:
    runs-on: ubuntu-latest
    timeout-minutes: 5
    
    steps:
    - name: Checkout repository
      uses: actions/checkout@v4

    - name: Analyze basic structure
      run: |
        echo "üîç Analyzing project structure..."
        echo ""
        echo "üìÅ Current directory: $(pwd)"
        echo ""
        
        # ÿ®ÿ±ÿ±ÿ≥€å ÿØÿß€åÿ±⁄©ÿ™Ÿàÿ±€å‚ÄåŸáÿß€å ÿßÿµŸÑ€å
        echo "üìÇ Directory check:"
        directories=("services" "strategies" "utils" "config" "tests")
        for dir in "${directories[@]}"; do
          if [ -d "$dir" ]; then
            echo "‚úÖ $dir/"
            echo "   Files: $(ls -1 "$dir" 2>/dev/null | tr '\n' ' ' || echo 'None')"
          else
            echo "‚ùå $dir/ (missing)"
          fi
        done
        echo ""

    - name: Check Python files
      run: |
        echo "üêç Python files check:"
        important_files=(
          "main.py"
          "config/config.py"
          "services/coinex_api.py"
          "services/telegram_bot.py"
          "strategies/mutanabby_strategy.py"
          "requirements.txt"
        )
        
        for file in "${important_files[@]}"; do
         
