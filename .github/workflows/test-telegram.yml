# .github/workflows/test-telegram.yml
name: ğŸ“¬ ØªØ³Øª Ø§Ø±Ø³Ø§Ù„ ØªÙ„Ú¯Ø±Ø§Ù… (Ø§Ø² Ø·Ø±ÛŒÙ‚ Secrets)

on:
  workflow_dispatch:  # Ø§Ù…Ú©Ø§Ù† Ø§Ø¬Ø±Ø§ Ø¯Ø³ØªÛŒ
  schedule:
    - cron: '0 10 * * *'  # Ù‡Ø± Ø±ÙˆØ² Ø³Ø§Ø¹Øª 10:00 UTC (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)

jobs:
  test-telegram:
    runs-on: ubuntu-latest
    env:
      TELEGRAM_TOKEN: ${{ secrets.TELEGRAM_TOKEN }}
      CHAT_ID: ${{ secrets.CHAT_ID }}

    steps:
      - name: ğŸ”½ Ú©Ù„ÙˆÙ† Ú©Ø±Ø¯Ù† Ø±ÛŒÙ¾ÙˆØ²ÛŒØªÙˆØ±ÛŒ
        uses: actions/checkout@v4

      - name: ğŸ Ù†ØµØ¨ Ù¾Ø§ÛŒØªÙˆÙ†
        uses: actions/setup-python@v5
        with:
          python-version: '3.10'

      - name: ğŸ“¦ Ù†ØµØ¨ requests
        run: |
          pip install requests

      - name: â–¶ï¸ Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øª ØªÙ„Ú¯Ø±Ø§Ù…
        run: python test_telegram.py
