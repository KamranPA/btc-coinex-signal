# .github/workflows/backtest.yml
name: ðŸ“Š Ø¨Ú©â€ŒØªØ³Øª Ø¯Ø³ØªÛŒ

on:
  workflow_dispatch:
    inputs:
      start_date:
        description: 'ØªØ§Ø±ÛŒØ® Ø´Ø±ÙˆØ¹ (YYYY-MM-DD)'
        required: true
        default: '2025-04-01'
      end_date:
        description: 'ØªØ§Ø±ÛŒØ® Ù¾Ø§ÛŒØ§Ù† (YYYY-MM-DD)'
        required: true
        default: '2025-05-01'

jobs:
  backtest:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Setup Python
        uses: actions/setup-python@v4
        with:
          python-version: 3.11

      - name: Install dependencies
        run: |
          pip install ccxt pandas requests

      - name: Run backtest with custom dates
        env:
          START_DATE: ${{ github.event.inputs.start_date }}
          END_DATE: ${{ github.event.inputs.end_date }}
        run: |
          sed -i "s|START_DATE = '.*'|START_DATE = '${{ github.event.inputs.start_date }}'|" backtest.py
          sed -i "s|END_DATE = '.*'|END_DATE = '${{ github.event.inputs.end_date }}'|" backtest.py
          python backtest.py
